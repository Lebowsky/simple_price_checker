{
    "ClientConfiguration": {
        "ConfigurationName": "Новая конфигурация",
        "ConfigurationDescription": "Разработка новой конфигурации SimpleUI",
        "ConfigurationVersion": "0.0.1",
        "Processes": [
            {
                "type": "Process",
                "ProcessName": "Синхронизация",
                "hidden": false,
                "DefineOnBackPressed": false,
                "login_screen": false,
                "PlanFactHeader": "План-факт",
                "SC": true,
                "Operations": [
                    {
                        "type": "Operation",
                        "Name": "Синхронизация",
                        "Timer": false,
                        "noScroll": false,
                        "hideBottomBarScreen": true,
                        "hideToolBarScreen": false,
                        "noConfirmation": true,
                        "handleKeyUp": false,
                        "Elements": [
                            {
                                "orientation": "vertical",
                                "height": "match_parent",
                                "width": "match_parent",
                                "weight": "0",
                                "type": "LinearLayout",
                                "Variable": "",
                                "Elements": [
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Товаров в suip-файле",
                                        "Variable": ""
                                    },
                                    {
                                        "TextBold": true,
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@count_goods_file",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Товаров в устройстве",
                                        "Variable": ""
                                    },
                                    {
                                        "TextBold": true,
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@count_goods_device",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "type": "Button",
                                        "Value": "Загрузить в устройство",
                                        "Variable": "btn_read"
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "Подтверждено ценников",
                                        "Variable": ""
                                    },
                                    {
                                        "TextBold": true,
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "type": "TextView",
                                        "Value": "@count_detected",
                                        "Variable": ""
                                    },
                                    {
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "type": "Button",
                                        "Value": "Сохранить в suip",
                                        "Variable": "btn_save"
                                    },
                                    {
                                        "type": "Button",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "Показать базу данных",
                                        "Variable": "show_db"
                                    },
                                    {
                                        "type": "Button",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "Обновить базу данных",
                                        "Variable": "refresh_db"
                                    }
                                ],
                                "BackgroundColor": "",
                                "StrokeWidth": "",
                                "Padding": ""
                            }
                        ],
                        "Handlers": [
                            {
                                "event": "onStart",
                                "action": "run",
                                "type": "python",
                                "method": "sync_on_start",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "listener": "btn_read",
                                "action": "run",
                                "type": "python",
                                "method": "save_to_device",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "listener": "btn_save",
                                "action": "run",
                                "type": "python",
                                "method": "save_to_suip",
                                "postExecute": ""
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "show_db",
                                "postExecute": "",
                                "listener": "show_db"
                            },
                            {
                                "event": "onInput",
                                "action": "run",
                                "type": "python",
                                "method": "refresh_db",
                                "postExecute": "",
                                "listener": "refresh_db"
                            }
                        ],
                        "onlineOnStart": false,
                        "onlineOnAfterStart": false,
                        "onlineOnInput": false
                    }
                ]
            },
            {
                "CVOperationName": "Сканирование ценников",
                "type": "CVOperation",
                "CVFrames": [
                    {
                        "Name": "Новый шаг ActiveCV",
                        "type": "CVFrame",
                        "CVOnline": false,
                        "CVDetector": "multiscanner",
                        "CVResolution": "VGA",
                        "CVMode": "list_and_grey",
                        "CVActionButtons": "",
                        "CVMask": "",
                        "Handlers": [
                            {
                                "event": "OnObjectDetected",
                                "action": "run",
                                "type": "python",
                                "method": "ob_detected",
                                "postExecute": ""
                            },
                            {
                                "event": "OnCreate",
                                "action": "run",
                                "type": "python",
                                "method": "on_create",
                                "postExecute": ""
                            }
                        ],
                        "CVCameraDevice": "Back",
                        "CVInfo": "@price_checker_info"
                    }
                ]
            }
        ],
        "ConfigurationSettings": {
            "uid": "667f036aad4345b3b58b6db28fd1687c"
        },
        "ConfigurationTags": "Py,off-line,ActiveCV®",
        "RunPython": true,
        "MainMenu": [],
        "Mediafile": [],
        "PyHandlers": "aW1wb3J0IGpzb24KZnJvbSBqYXZhIGltcG9ydCBqY2xhc3MKCmZyb20gcnUudHJhdmVsZm9vZC5zaW1wbGVfdWkgaW1wb3J0IFNpbXBsZVV0aWxpdGVzIGFzIHN1Q2xhc3MKCmltcG9ydCB1aV9tb2RlbHMKCm5vQ2xhc3MgPSBqY2xhc3MoInJ1LnRyYXZlbGZvb2Quc2ltcGxlX3VpLk5vU1FMIikKcnNfc2V0dGluZ3MgPSBub0NsYXNzKCJyc19zZXR0aW5ncyIpCnByaWNlc19uY2wgPSBub0NsYXNzKCJwcmljZV9uY2wiKQp5ZWxsb3dfbGlzdF9uY2wgPSBub0NsYXNzKCJ5ZWxsb3dfbGlzdF9uY2wiKQpwcmljZV92YWxpZF9uY2wgPSBub0NsYXNzKCJwcmljZV92YWxpZF9uY2wiKQoKZnJvbSB1aV91dGlscyBpbXBvcnQgSGFzaE1hcApASGFzaE1hcCgpCmRlZiBhcHBfYmVmb3JlX29uX3N0YXJ0KGhhc2hfbWFwOiBIYXNoTWFwKToKICAgICIiIgogICAg0J7QsdGA0LDQsdC+0YLRh9C40Log0L/RgNC4INGB0YLQsNGA0YLQtSDQv9GA0LjQu9C+0LbQtdC90LjRjyDQt9Cw0L/Rg9GB0LrQsNC10YLRgdGPINC/0LXRgNC10LQgYXBwX29uX3N0YXJ0CiAgICDQvdGD0LbQvdC10L0g0LTQu9GPINC+0L/RgNC10LTQtdC70LXQvdC40Y8g0LLQtdGA0YHQuNC4INC60L7QvdGE0LjQs9GD0YDQsNGG0LjQuCDQsiDQv9C+0YHQu9C10LTRg9GO0YnQtdC8CiAgICAiIiIKCiAgICBtb2RlbCA9IHVpX21vZGVscy5NYWluRXZlbnRzKGhhc2hfbWFwLCByc19zZXR0aW5ncykKICAgIG1vZGVsLmFwcF9iZWZvcmVfb25fc3RhcnQoKQoKCkBIYXNoTWFwKCkKZGVmIGFwcF9vbl9zdGFydChoYXNoX21hcDogSGFzaE1hcCk6CiAgICAiIiIg0J7QsdGA0LDQsdC+0YLRh9C40Log0L/RgNC4INGB0YLQsNGA0YLQtSDQv9GA0LjQu9C+0LbQtdC90LjRjyAiIiIKCiAgICBtb2RlbCA9IHVpX21vZGVscy5NYWluRXZlbnRzKGhhc2hfbWFwLCByc19zZXR0aW5ncykKICAgIG1vZGVsLmFwcF9vbl9zdGFydCgpCgpASGFzaE1hcCgpCmRlZiBzeW5jX29uX3N0YXJ0KGhhc2hfbWFwOiBIYXNoTWFwKTogIyDQrdC60YDQsNC9OiDQodC40L3RhdGA0L7QvdC40LfQsNGG0LjRjyAg0J7QsdGAINCf0YDQuNCX0LDQv9GD0YHQutC1CiAgICBpZiBoYXNoX21hcC5jb250YWluc0tleSgicHJpY2VzIik6CiAgICAgICAgcHJpY2VzID0ganNvbi5sb2FkcyhoYXNoX21hcC5nZXQoInByaWNlcyIpKQogICAgICAgIGhhc2hfbWFwLnB1dCgiX3ByaWNlcyIsIGhhc2hfbWFwLmdldCgicHJpY2VzIikpCiAgICAgICAgaGFzaF9tYXAucHV0KCJjb3VudF9nb29kc19maWxlIiwgc3RyKGxlbihwcmljZXMpKSkKICAgIGVsc2U6CiAgICAgICAgaGFzaF9tYXAucHV0KCJjb3VudF9nb29kc19maWxlIiwgInN1aXAt0YTQsNC50Lsg0L3QtSDQvtGC0LrRgNGL0YIiKQoKICAgIGlmIGhhc2hfbWFwLmNvbnRhaW5zS2V5KCJfcHJpY2VzIik6CiAgICAgICAgcHJpY2VzID0ganNvbi5sb2FkcyhoYXNoX21hcC5nZXQoIl9wcmljZXMiKSkKICAgICAgICBoYXNoX21hcC5wdXQoImNvdW50X2dvb2RzX2RldmljZSIsIHN0cihsZW4ocHJpY2VzKSkpCiAgICBlbHNlOgogICAgICAgIGhhc2hfbWFwLnB1dCgiY291bnRfZ29vZHNfZGV2aWNlIiwgItC90LXRgiDRgtC+0LLQsNGA0L7QsiIpCgogICAgcHJpY2VfbmNsID0gbm9DbGFzcygicHJpY2VfbmNsIikKICAgIHJlcyA9IGpzb24ubG9hZHMocHJpY2VfbmNsLmZpbmRKU09OKCJjb25maXJtZWQiLCBUcnVlKSkKICAgIGhhc2hfbWFwLnB1dCgiY291bnRfZGV0ZWN0ZWQiLCBzdHIobGVuKHJlcykpKQoKCkBIYXNoTWFwKCkKZGVmIHNhdmVfdG9fZGV2aWNlKGhhc2hfbWFwOiBIYXNoTWFwKTogICMg0KHQvtCxOm9uSW5wdXQgbGlzdGVuZXI6IGJ0bl9yZWFkINCU0LXQudGB0YLQsjogcnVuINCi0LjQvyDQvtCx0YDQsNCxOiBweXRob24KICAgICMg0JzQtdGC0L7QtDogc2F2ZV90b19kZXZpY2UKICAgIGlmIGhhc2hfbWFwLmNvbnRhaW5zS2V5KCJwcmljZXMiKToKICAgICAgICBwcmljZXNfc3RyID0gaGFzaF9tYXAuZ2V0KCJfcHJpY2VzIikKICAgICAgICBuY2wgPSBub0NsYXNzKCJwcmljZWNoZWNrZXJfa2l0IikKICAgICAgICBuY2wucHV0KCJwcmljZXMiLCBwcmljZXNfc3RyLCBUcnVlKQoKICAgICAgICBwcmljZV9uY2wgPSBub0NsYXNzKCJwcmljZV9uY2wiKQogICAgICAgIHByaWNlX25jbC5kZXN0cm95KCkKICAgICAgICBwcmljZXMgPSBqc29uLmxvYWRzKHByaWNlc19zdHIpCiAgICAgICAgZm9yIGl0ZW0gaW4gcHJpY2VzOgogICAgICAgICAgICBwcmljZV9uY2wucHV0KGl0ZW1bJ2JhcmNvZGUnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLmR1bXBzKHsncHJpY2UnOiBpdGVtWydwcmljZSddLCAnbmFtZSc6IGl0ZW1bJ25hbWUnXX0pLCBUcnVlKQoKICAgICAgICBoYXNoX21hcC5wdXQoInRvYXN0IiwgItCh0L7RhdGA0LDQvdC10L3QuNC1INC30LDQstC10YDRiNC10L3QviIpCgpASGFzaE1hcCgpCmRlZiBkZWxfZnJvbV9kZXZpY2UoaGFzaF9tYXA6IEhhc2hNYXApOgogICAgbmNsID0gbm9DbGFzcygicHJpY2VjaGVja2VyX2tpdCIpCiAgICBuY2wuZGVsZXRlKCJwcmljZXMiKQogICAgaGFzaF9tYXAucHV0KCJ0b2FzdCIsICLQo9C00LDQu9C10L3QuNC1INC30LDQstC10YDRiNC10L3QviIpCgoKQEhhc2hNYXAoKQpkZWYgc2hvd19kYihoYXNoX21hcDogSGFzaE1hcCk6CiAgICBuY2wgPSBub0NsYXNzKCJwcmljZWNoZWNrZXJfa2l0IikKICAgIHByaWNlc19zdHIgPSBuY2wuZ2V0KCJwcmljZXMiKQogICAgaGFzaF9tYXAucHV0KCd0b2FzdCcsIGpzb24uZHVtcHMocHJpY2VzX3N0cikpCgoKQEhhc2hNYXAoKQpkZWYgcmVmcmVzaF9kYihoYXNoX21hcDogSGFzaE1hcCk6CiAgICBuY2wgPSBub0NsYXNzKCJwcmljZWNoZWNrZXJfa2l0IikKICAgIHByaWNlX25jbCA9IG5vQ2xhc3MoInByaWNlX25jbCIpCiAgICBwcmljZV9uY2wuZGVzdHJveSgpCiAgICBwcmljZXMgPSBuY2wuZ2V0KCdwcmljZXMnKQogICAgaWYgbm90IHByaWNlczoKICAgICAgICBoYXNoX21hcC50b2FzdCgn0KHQv9C40YHQvtC6INGC0L7QstCw0YDQvtCyIHByaWNlcyDQv9GD0YHRgi4nKQogICAgICAgIHJldHVybgogICAgZm9yIGl0ZW0gaW4ganNvbi5sb2FkcyhwcmljZXMpOgogICAgICAgIHByaWNlX25jbC5wdXQoaXRlbVsnYmFyY29kZSddLAogICAgICAgICAgICAgICAgICAgICAganNvbi5kdW1wcyh7J3ByaWNlJzogaXRlbVsncHJpY2UnXSwgJ25hbWUnOiBpdGVtWyduYW1lJ119KSwgVHJ1ZSkKICAgIGhhc2hfbWFwLnRvYXN0KCfQlNCw0L3QvdGL0LUg0L7QsdC90L7QstC70LXQvdGLJykKCkBIYXNoTWFwKCkKZGVmIHNhdmVfdG9fc3VpcChoYXNoX21hcDogSGFzaE1hcCk6ICAjINCh0L7QsTpvbklucHV0IGxpc3RlbmVyOiBidG5fc2F2ZSDQlNC10LnRgdGC0LI6IHJ1biDQotC40L8g0L7QsdGA0LDQsTogcHl0aG9uINCc0LXRgtC+0LQ6IHNhdmVfdG9fc3VpcAogICAgbmNsID0gbm9DbGFzcygicHJpY2VjaGVja2VyX2tpdCIpCiAgICBwcmljZXNfc3RyID0gbmNsLmdldCgicHJpY2VzIikKICAgIGhhc2hfbWFwLnB1dCgiTm9Qcm9jZXNzU1VJUCIsICcnKQogICAgaGFzaF9tYXAucHV0KCJOb1B5SGFuZGxlcnNTVUlQIiwgJycpCiAgICBkZXRlY3RlZCA9IGhhc2hfbWFwLmdldCgiX2RldGVjdGVkIiwgZnJvbV9qc29uPVRydWUpIG9yIFtdCiAgICBjb25maXJtZWQgPSBoYXNoX21hcC5nZXQoIl9jb25maXJtZWQiLCBmcm9tX2pzb249VHJ1ZSkgb3IgW10KICAgIHByaWNlcyA9IGpzb24ubG9hZHMocHJpY2VzX3N0cikKCiAgICBwcmljZV9uY2wgPSBub0NsYXNzKCJwcmljZV9uY2wiKQogICAgY29uZiA9IGpzb24ubG9hZHMocHJpY2VfbmNsLmZpbmRKU09OKCJjb25maXJtZWQiLCBUcnVlKSkKCiAgICBmb3IgZWxlbSBpbiBjb25mOgogICAgICAgIGZvciBwcmljZSBpbiBwcmljZXM6CiAgICAgICAgICAgIGlmIHByaWNlWydiYXJjb2RlJ10gPT0gZWxlbVsna2V5J106CiAgICAgICAgICAgICAgICBjb25maXJtZWQuYXBwZW5kKHByaWNlKQogICAgZGVjbCA9IGpzb24ubG9hZHMocHJpY2VfbmNsLmZpbmRKU09OKCJjb25maXJtZWQiLCBUcnVlKSkKICAgIGZvciBlbGVtIGluIGRlY2w6CiAgICAgICAgZm9yIHByaWNlIGluIHByaWNlczoKICAgICAgICAgICAgaWYgcHJpY2VbJ2JhcmNvZGUnXSA9PSBlbGVtWydrZXknXToKICAgICAgICAgICAgICAgIGRldGVjdGVkLmFwcGVuZChwcmljZSkKICAgIF9kYXRhID0gewogICAgICAgICJwcmljZXMiIDogcHJpY2VzLAogICAgICAgICJjb25maXJtZWQiOiBjb25maXJtZWQsCiAgICAgICAgImRldGVjdGVkIjogZGV0ZWN0ZWQgKyBjb25maXJtZWQKICAgIH0KICAgIGhhc2hfbWFwLnB1dCgiX2RhdGEiLCBqc29uLmR1bXBzKF9kYXRhKSkKICAgIGhhc2hfbWFwLnRvYXN0KCfQo9GB0L/QtdGI0L3QvicpCgoKQEhhc2hNYXAoKQpkZWYgb25fY3JlYXRlKGhhc2hfbWFwOiBIYXNoTWFwKToKICAgIGhhc2hfbWFwLmRlbGV0ZSgncHJpY2VfY2hlY2tlcl9pbmZvJykKICAgIGhhc2hfbWFwLnB1dCgnQ1ZEZXRlY3RvcnMnLCAnYmFyY29kZScpCiAgICAjIGhhc2hfbWFwLnB1dCgnQ1ZTa2lwTmVzdGVkJywgJycpCiAgICAjIHllbGxvd19saXN0X25jbC5kZXN0cm95KCkKICAgIHByaWNlX3ZhbGlkX25jbC5kZXN0cm95KCkKICAgICMgaGFzaF9tYXAuZGVsZXRlKCdyZWRfbGlzdCcpCiAgICAjIGhhc2hfbWFwLmRlbGV0ZSgnZ3JlZW5fbGlzdCcpCiAgICAjIGhhc2hfbWFwLmRlbGV0ZSgneWVsbG93X2xpc3QnKQoKCmRlZiB3cml0ZV9jYXB0aW9uKGhhc2hfbWFwOiBIYXNoTWFwLCBvYmplY3RfaWQ6IGludCwgY2FwdGlvbjogc3RyKToKICAgIG9kbV9saXN0ID0gaGFzaF9tYXAuZ2V0KCdvYmplY3RfZGV0ZWN0b3JfbW9kZScpCiAgICBvZG1fbGlzdCA9IGpzb24ubG9hZHMob2RtX2xpc3QpIGlmIG9kbV9saXN0IGVsc2UgW10KICAgIGl0ZW1faW5fZG0gPSBuZXh0KChpdGVtIGZvciBpdGVtIGluIG9kbV9saXN0IGlmIGl0ZW1bJ29iamVjdF9pZCddID09IG9iamVjdF9pZCksIE5vbmUpCiAgICBpZiBpdGVtX2luX2RtOgogICAgICAgIGl0ZW1faW5fZG1bJ21vZGUnXSA9ICdzdG9wJwogICAgZWxzZToKICAgICAgICBvZG1fbGlzdC5hcHBlbmQoeydvYmplY3RfaWQnOiBvYmplY3RfaWQsICdtb2RlJzogJ3N0b3AnfSkKCiAgICBoYXNoX21hcC5wdXQoJ29iamVjdF9kZXRlY3Rvcl9tb2RlJywganNvbi5kdW1wcyhvZG1fbGlzdCkpCiAgICBjYXB0aW9uX2RhdGEgPSB7J29iamVjdCc6IHN0cihvYmplY3RfaWQpLCAnY2FwdGlvbic6IGNhcHRpb259CiAgICBoYXNoX21hcC5hZGRfdG9fY3ZfbGlzdChjYXB0aW9uX2RhdGEsICdvYmplY3RfY2FwdGlvbl9saXN0JywgX2RpY3Q9VHJ1ZSkKICAgIGhhc2hfbWFwLnJlbW92ZV9mcm9tX2N2X2xpc3Qoc3RyKG9iamVjdF9pZCksICd5ZWxsb3dfbGlzdCcpCiAgICBoYXNoX21hcC5hZGRfdG9fY3ZfbGlzdChzdHIob2JqZWN0X2lkKSwgJ3N0b3BfbGlzdGVuZXJfbGlzdCcpCgoKZGVmIGNvbmZpcm1fb2JqZWN0KGhhc2hfbWFwOiBIYXNoTWFwLCBvYmplY3RfaWQ6IGludCwgYmFyY29kZTogc3RyLCBpdGVtOiBkaWN0KToKICAgIGhhc2hfbWFwLmFkZF90b19jdl9saXN0KHN0cihvYmplY3RfaWQpLCAnZ3JlZW5fbGlzdCcpCiAgICBjYXB0aW9uID0gaXRlbVsnbmFtZSddICsgIiwgPGI+INCm0LXQvdCwOiAiICsgc3RyKGl0ZW1bJ3ByaWNlJ10pICsgIjwvYj4iCiAgICB3cml0ZV9jYXB0aW9uKGhhc2hfbWFwLCBvYmplY3RfaWQsIGNhcHRpb24pCiAgICB5ZWxsb3dfbGlzdF9uY2wuZGVsZXRlKGJhcmNvZGUpCgoKZGVmIGRlY2xpbmVfb2JqZWN0KGhhc2hfbWFwOiBIYXNoTWFwLCBvYmplY3RfaWQ6IGludCwgYmFyY29kZTogc3RyLCBpdGVtOiBkaWN0KToKICAgIGhhc2hfbWFwLmFkZF90b19jdl9saXN0KHN0cihvYmplY3RfaWQpLCAncmVkX2xpc3QnKQogICAgY2FwdGlvbiA9IGl0ZW1bJ25hbWUnXSArICIsIDxiPiDQptC10L3QsDogIiArIHN0cigKICAgICAgICBpdGVtWydwcmljZSddKSArICI8L2I+LiDQptC10L3QsCDQvdC1INGB0L7QstC/0LDQtNCw0LXRgiEiCiAgICB3cml0ZV9jYXB0aW9uKGhhc2hfbWFwLCBvYmplY3RfaWQsIGNhcHRpb24pCiAgICB5ZWxsb3dfbGlzdF9uY2wuZGVsZXRlKGJhcmNvZGUpCgoKZGVmIGJhcmNvZGVfaW5wdXQoaGFzaF9tYXA6IEhhc2hNYXAsIGN1cnJlbnRfb2JqZWN0X2lkOiBpbnQsIGJhcmNvZGU6IHN0cik6CiAgICBpbl9wcm9jZXNzaW5nID0geWVsbG93X2xpc3RfbmNsLmdldChiYXJjb2RlKQogICAgaWYgaW5fcHJvY2Vzc2luZyBhbmQgY3VycmVudF9vYmplY3RfaWQgaW4ganNvbi5sb2Fkcyhpbl9wcm9jZXNzaW5nKToKICAgICAgICByZXR1cm4KICAgIGl0ZW0gPSBwcmljZXNfbmNsLmdldChiYXJjb2RlKQogICAgaWYgbm90IGl0ZW06CiAgICAgICAgIyDQktC+0LfQvNC+0LbQvdCwINC70L7Qs9C40LrQsCDQtNC70Y8g0YjRgtGA0LjRhdC60L7QtNC+0LIg0L3QtSDQuNC3INGN0YLQvtCz0L4g0LTQvtC60YPQvNC10L3RgtCwCiAgICAgICAgaGFzaF9tYXAuYWRkX3RvX2N2X2xpc3QoCiAgICAgICAgICAgIHsnb2JqZWN0X2lkJzogY3VycmVudF9vYmplY3RfaWQsICdtb2RlJzogJ3N0b3AnfSwKICAgICAgICAgICAgJ29iamVjdF9kZXRlY3Rvcl9tb2RlJywgX2RpY3Q9VHJ1ZSkKICAgICAgICBoYXNoX21hcC50b2FzdCgn0KjRgtGA0LjRhdC60L7QtDogJyArIGJhcmNvZGUgKyAiINC90LUg0L3QsNC50LTQtdC9INCyINCx0LDQt9C1IikKICAgICAgICByZXR1cm4KICAgIGl0ZW0gPSBqc29uLmxvYWRzKGl0ZW0pCiAgICBjb25maXJtZWQgPSBpdGVtLmdldCgnY29uZmlybWVkJykKICAgIGlmIGNvbmZpcm1lZCBpcyBOb25lOgogICAgICAgIGhhc2hfbWFwLmFkZF90b19jdl9saXN0KHN0cihjdXJyZW50X29iamVjdF9pZCksICd5ZWxsb3dfbGlzdCcpCiAgICAgICAgaWRzX2xpc3QgPSB5ZWxsb3dfbGlzdF9uY2wuZ2V0KGJhcmNvZGUpCiAgICAgICAgaWRzX2xpc3QgPSBqc29uLmxvYWRzKGlkc19saXN0KSBpZiBpZHNfbGlzdCBlbHNlIFtdCiAgICAgICAgaWRzX2xpc3QuYXBwZW5kKGN1cnJlbnRfb2JqZWN0X2lkKQogICAgICAgIHllbGxvd19saXN0X25jbC5wdXQoYmFyY29kZSwganNvbi5kdW1wcyhpZHNfbGlzdCksIFRydWUpCiAgICAgICAgaGFzaF9tYXAuYWRkX3RvX2N2X2xpc3QoCiAgICAgICAgICAgIHsnb2JqZWN0X2lkJzogY3VycmVudF9vYmplY3RfaWQsICdtb2RlJzogJ29jcid9LAogICAgICAgICAgICAnb2JqZWN0X2RldGVjdG9yX21vZGUnLCBfZGljdD1UcnVlKQogICAgZWxpZiBjb25maXJtZWQgaXMgVHJ1ZToKICAgICAgICBjb25maXJtX29iamVjdChoYXNoX21hcCwgY3VycmVudF9vYmplY3RfaWQsIGJhcmNvZGUsIGl0ZW0pCiAgICBlbGlmIGNvbmZpcm1lZCBpcyBGYWxzZToKICAgICAgICBkZWNsaW5lX29iamVjdChoYXNoX21hcCwgY3VycmVudF9vYmplY3RfaWQsIGJhcmNvZGUsIGl0ZW0pCgoKZGVmIHByaWNlX2lucHV0KGhhc2hfbWFwOiBIYXNoTWFwLCBjdXJyZW50X29iamVjdF9pZDogaW50LCBwcmljZTogc3RyKToKICAgIGlmIGxlbihwcmljZSkgPT0gMToKICAgICAgICByZXR1cm4KICAgIGJhcmNvZGUgPSBOb25lCiAgICBmb3Iga2V5IGluIGpzb24ubG9hZHMoeWVsbG93X2xpc3RfbmNsLmdldGFsbGtleXMoKSk6CiAgICAgICAgaWYgY3VycmVudF9vYmplY3RfaWQgaW4ganNvbi5sb2Fkcyh5ZWxsb3dfbGlzdF9uY2wuZ2V0KGtleSkpOgogICAgICAgICAgICBiYXJjb2RlID0ga2V5CiAgICAgICAgICAgIGJyZWFrCiAgICBpZiBub3QgYmFyY29kZToKICAgICAgICByZXR1cm4KICAgIGl0ZW0gPSBqc29uLmxvYWRzKHByaWNlc19uY2wuZ2V0KGJhcmNvZGUpKQogICAgcHJpY2UgPSBwcmljZS5yZXBsYWNlKCcgJywgJycpLnJlcGxhY2UoJ28nLCAnMCcpLnJlcGxhY2UoJ08nLCAnMCcpCiAgICBwcmljZSA9ICcnLmpvaW4oW2xldHRlciBmb3IgbGV0dGVyIGluIHByaWNlIGlmIGxldHRlci5pc2RpZ2l0KCldKQogICAgaWYgbm90IHByaWNlOgogICAgICAgIHJldHVybgogICAgaWYgcHJpY2UgPT0gc3RyKGl0ZW1bJ3ByaWNlJ10pOgogICAgICAgIGNvbmZpcm1fb2JqZWN0KGhhc2hfbWFwLCBjdXJyZW50X29iamVjdF9pZCwgYmFyY29kZSwgaXRlbSkKICAgICAgICBoYXNoX21hcC5wdXQoJ3ByaWNlX2NoZWNrZXJfaW5mbycsIGJhcmNvZGUgKyAnIHByaWNlczogJyArIHN0cihwcmljZSkpCiAgICAgICAgaXRlbS51cGRhdGUoY29uZmlybWVkPVRydWUpCiAgICAgICAgcHJpY2VzX25jbC5wdXQoYmFyY29kZSwganNvbi5kdW1wcyhpdGVtKSwgVHJ1ZSkKICAgICAgICBoYXNoX21hcC5iZWVwKCkKICAgIGVsc2U6CiAgICAgICAgIyBPQ1Ig0LPRgNGD0LfQuNGCCiAgICAgICAgZXJyb3JzID0gcHJpY2VfdmFsaWRfbmNsLmdldChiYXJjb2RlKQogICAgICAgIGVycm9ycyA9IGpzb24ubG9hZHMoZXJyb3JzKSBpZiBlcnJvcnMgZWxzZSBbXQogICAgICAgIGlmIG5vdCBlcnJvcnM6CiAgICAgICAgICAgIHByaWNlX3ZhbGlkX25jbC5wdXQoYmFyY29kZSwganNvbi5kdW1wcyhbcHJpY2VdKSwgVHJ1ZSkKICAgICAgICAgICAgaGFzaF9tYXAucHV0KCdwcmljZV9jaGVja2VyX2luZm8nLCBiYXJjb2RlICsgJyBwcmljZXM6ICcgKyBzdHIoZXJyb3JzKSkKICAgICAgICBlbGlmIGxlbihlcnJvcnMpIDwgMTA6CiAgICAgICAgICAgIHByaWNlX3ZhbGlkX25jbC5wdXQoYmFyY29kZSxqc29uLmR1bXBzKGVycm9ycyArIFtwcmljZV0pLCBUcnVlKQogICAgICAgICAgICBoYXNoX21hcC5wdXQoJ3ByaWNlX2NoZWNrZXJfaW5mbycsIGJhcmNvZGUgKyAnIHByaWNlczogJyArIHN0cihlcnJvcnMgKyBbcHJpY2VdKSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBkZWNsaW5lX29iamVjdChoYXNoX21hcCwgY3VycmVudF9vYmplY3RfaWQsIGJhcmNvZGUsIGl0ZW0pCiAgICAgICAgICAgIGl0ZW0udXBkYXRlKGNvbmZpcm1lZD1GYWxzZSkKICAgICAgICAgICAgcHJpY2VzX25jbC5wdXQoYmFyY29kZSwganNvbi5kdW1wcyhpdGVtKSwgVHJ1ZSkKICAgICAgICAgICAgaGFzaF9tYXAucGxheXNvdW5kKCdlcnJvcicpCgoKZGVmIGlzX2RtX3N0b3AoaGFzaF9tYXA6IEhhc2hNYXAsIG9iamVjdF9pZDogaW50KToKICAgIG9kbV9saXN0ID0gaGFzaF9tYXAuZ2V0KCdvYmplY3RfZGV0ZWN0b3JfbW9kZScpCiAgICBvZG1fbGlzdCA9IGpzb24ubG9hZHMob2RtX2xpc3QpIGlmIG9kbV9saXN0IGVsc2UgW10KICAgIHJldHVybiBuZXh0KChpdGVtIGZvciBpdGVtIGluIG9kbV9saXN0CiAgICAgICAgICAgICAgICBpZiBpdGVtWydvYmplY3RfaWQnXSA9PSBvYmplY3RfaWQgYW5kIGl0ZW1bJ21vZGUnXSA9PSAnc3RvcCcpLCBOb25lKQoKCmRlZiBpc192YWxpZF9iYXJjb2RlKGJhcmNvZGU6IHN0cik6CiAgICBpZiBsZW4oYmFyY29kZSkgPiA5IGFuZCBiYXJjb2RlLmlzZGlnaXQoKToKICAgICAgICByZXR1cm4gVHJ1ZQoKCkBIYXNoTWFwKCkKZGVmIG9iX2RldGVjdGVkKGhhc2hfbWFwOiBIYXNoTWFwKToKICAgIGN1cnJlbnRfb2JqZWN0ID0ganNvbi5sb2FkcyhoYXNoX21hcC5nZXQoImN1cnJlbnRfb2JqZWN0IikpCiAgICBpZiBpc19kbV9zdG9wKGhhc2hfbWFwLCBjdXJyZW50X29iamVjdFsnb2JqZWN0X2lkJ10pOgogICAgICAgIHJldHVybgogICAgb2JqX3ZhbHVlID0gY3VycmVudF9vYmplY3RbJ3ZhbHVlJ10KICAgIGlmIG5vdCBvYmpfdmFsdWU6CiAgICAgICAgcmV0dXJuCiAgICBpZiBpc192YWxpZF9iYXJjb2RlKG9ial92YWx1ZSk6CiAgICAgICAgYmFyY29kZV9pbnB1dChoYXNoX21hcCwgY3VycmVudF9vYmplY3RbJ29iamVjdF9pZCddLCBvYmpfdmFsdWUpCiAgICBlbHNlOgogICAgICAgIHByaWNlX2lucHV0KGhhc2hfbWFwLCBjdXJyZW50X29iamVjdFsnb2JqZWN0X2lkJ10sIG9ial92YWx1ZSkKCg==",
        "pyHandlersPath": "D:/projects/simple UI/price_checker\\main.py",
        "PyTimerTask": [],
        "PyFiles": [
            {
                "PyFileKey": "ui_models",
                "PyFileData": "ZnJvbSB1aV91dGlscyBpbXBvcnQgSGFzaE1hcAoKCmNsYXNzIE1haW5FdmVudHM6CiAgICBkZWYgX19pbml0X18oc2VsZiwgaGFzaF9tYXA6IEhhc2hNYXAsIHJzX3NldHRpbmdzKToKICAgICAgICBzZWxmLmhhc2hfbWFwID0gaGFzaF9tYXAKICAgICAgICBzZWxmLnJzX3NldHRpbmdzID0gcnNfc2V0dGluZ3MKCiAgICBkZWYgYXBwX2JlZm9yZV9vbl9zdGFydChzZWxmKToKICAgICAgICBzZWxmLmhhc2hfbWFwLnB1dCgnZ2V0SlNPTkNvbmZpZ3VyYXRpb24nLCAnJykKCiAgICBkZWYgYXBwX29uX3N0YXJ0KHNlbGYpOgogICAgICAgICMgVE9ETyDQntCx0YDQsNCx0L7RgtGH0LjQutC4INC+0LHQvdC+0LLQu9C10L3QuNGPIQogICAgICAgIHJlbGVhc2UgPSBzZWxmLnJzX3NldHRpbmdzLmdldCgnUmVsZWFzZScpIG9yICcnCiAgICAgICAgY29uZiA9IHNlbGYuaGFzaF9tYXAuZ2V0X2pzb24oJ19jb25maWd1cmF0aW9uJykKICAgICAgICBjdXJyZW50X3JlbGVhc2UgPSBOb25lCiAgICAgICAgdG9hc3QgPSAn0JPQvtGC0L7QsiDQuiDRgNCw0LHQvtGC0LUnCgogICAgICAgIHRyeToKICAgICAgICAgICAgY3VycmVudF9yZWxlYXNlID0gY29uZlsnQ2xpZW50Q29uZmlndXJhdGlvbiddWydDb25maWd1cmF0aW9uVmVyc2lvbiddCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICB0b2FzdCA9ICfQndC1INGD0LTQsNC70L7RgdGMINC+0L/RgNC10LTQtdC70LjRgtGMINCy0LXRgNGB0LjRjiDQutC+0L3RhNC40LPRg9GA0LDRhtC40LgnCiAgICAgICAgZmluYWxseToKICAgICAgICAgICAgc2VsZi5oYXNoX21hcC5yZW1vdmUoJ19jb25maWd1cmF0aW9uJykKCiAgICAgICAgaWYgY3VycmVudF9yZWxlYXNlIGFuZCByZWxlYXNlICE9IGN1cnJlbnRfcmVsZWFzZToKICAgICAgICAgICAgc2VsZi5oYXNoX21hcC5wdXQoJ1VwZGF0ZUNvbmZpZ3VyYXRpb25zJywgJycpCiAgICAgICAgICAgIHNlbGYucnNfc2V0dGluZ3MucHV0KCdSZWxlYXNlJywgY3VycmVudF9yZWxlYXNlLCBUcnVlKQogICAgICAgICAgICB0b2FzdCA9IGYn0JLRi9C/0L7Qu9C90LXQvdC+INC+0LHQvdC+0LLQu9C10L3QuNC1INC90LAg0LLQtdGA0YHQuNGOIHtjdXJyZW50X3JlbGVhc2V9JwoKICAgICAgICBzZWxmLmhhc2hfbWFwLnRvYXN0KHRvYXN0KQoKCg=="
            },
            {
                "PyFileKey": "ui_utils",
                "PyFileData": "aW1wb3J0IGpzb24KZnJvbSB0eXBpbmcgaW1wb3J0IENhbGxhYmxlLCBVbmlvbiwgTGl0ZXJhbCwgTGlzdCwgRGljdApmcm9tIGZ1bmN0b29scyBpbXBvcnQgd3JhcHMKCmZyb20gamF2YSBpbXBvcnQgamNsYXNzCgoKbm9DbGFzcyA9IGpjbGFzcygicnUudHJhdmVsZm9vZC5zaW1wbGVfdWkuTm9TUUwiKQpyc19zZXR0aW5ncyA9IG5vQ2xhc3MoInJzX3NldHRpbmdzIikKCgojINCa0LvQsNGB0YEt0LTQtdC60L7RgNCw0YLQvtGAINC00LvRjyDRg9C00L7QsdC90L7QuSDRgNCw0LHQvtGC0Ysg0YEgaGFzaE1hcC4g0KLQsNC60LbQtSDQvNC+0LbQvdC+INC00L7QsdCw0LLQuNGC0Ywg0LTQvtC/0L7Qu9C90LjRgtC10LvRjNC90YPRjiDQu9C+0LPQuNC60YMuCmNsYXNzIEhhc2hNYXA6CiAgICAiIiIKICAgICAgICDQmtC70LDRgdGBLdC00LXQutC+0YDQsNGC0L7RgCDQtNC70Y8g0YPQtNC+0LHQvdC+0Lkg0YDQsNCx0L7RgtGLINGBIGhhc2hNYXAuINCi0LDQutC20LUg0LzQvtC20L3QviDQtNC+0LHQsNCy0LjRgtGMINC00L7Qv9C+0LvQvdC40YLQtdC70YzQvdGD0Y4g0LvQvtCz0LjQutGDLgogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGhhc2hfbWFwPU5vbmUsIGRlYnVnOiBib29sID0gRmFsc2UpOgogICAgICAgIHNlbGYuaGFzaF9tYXAgPSBoYXNoX21hcAogICAgICAgIHNlbGYuZGVidWdfbW9kZSA9IGRlYnVnCgogICAgZGVmIF9fY2FsbF9fKHNlbGYsIGZ1bmM6IENhbGxhYmxlWy4uLiwgTm9uZV0pOgogICAgICAgIEB3cmFwcyhmdW5jKQogICAgICAgIGRlZiB3cmFwcGVyKGhhc2hNYXAsICphcmdzLCAqKmt3YXJncyk6CiAgICAgICAgICAgIHNlbGYuaW5pdChoYXNoTWFwKQogICAgICAgICAgICBmdW5jKHNlbGYpCiAgICAgICAgICAgIHJldHVybiBoYXNoTWFwCgogICAgICAgIHJldHVybiB3cmFwcGVyCgogICAgZGVmIGluaXQoc2VsZiwgaGFzaE1hcCk6CiAgICAgICAgc2VsZi5oYXNoX21hcCA9IGhhc2hNYXAKCiAgICBkZWYgZmluaXNoX3Byb2Nlc3Moc2VsZik6CiAgICAgICAgc2VsZi5oYXNoX21hcC5wdXQoJ0ZpbmlzaFByb2Nlc3MnLCAnJykKCiAgICBkZWYgZmluaXNoX3Byb2Nlc3NfcmVzdWx0KHNlbGYpOgogICAgICAgIHNlbGYuaGFzaF9tYXAucHV0KCdGaW5pc2hQcm9jZXNzUmVzdWx0JywgJycpCgogICAgZGVmIHNob3dfcHJvY2Vzc19yZXN1bHQoc2VsZiwgcHJvY2Vzcywgc2NyZWVuKToKICAgICAgICBpZiBwcm9jZXNzIGFuZCBzY3JlZW46CiAgICAgICAgICAgIHNlbGYuaGFzaF9tYXAucHV0KCdTaG93UHJvY2Vzc1Jlc3VsdCcsIGYne3Byb2Nlc3N9fHtzY3JlZW59JykKCiAgICBkZWYgc2V0X3Jlc3VsdF9saXN0ZW5lcihzZWxmLCBsaXN0ZW5lcik6CiAgICAgICAgaWYgbGlzdGVuZXIgYW5kIGlzaW5zdGFuY2UobGlzdGVuZXIsIHN0cik6CiAgICAgICAgICAgIHNlbGYuaGFzaF9tYXAucHV0KCdTZXRSZXN1bHRMaXN0ZW5lcicsIGxpc3RlbmVyKQoKICAgIGRlZiB0b2FzdChzZWxmLCB0ZXh0LCBhZGRfdG9fbG9nPUZhbHNlKToKICAgICAgICBzZWxmLmhhc2hfbWFwLnB1dCgndG9hc3QnLCBzdHIodGV4dCkpCiAgICAgICAgaWYgYWRkX3RvX2xvZzoKICAgICAgICAgICAgc2VsZi5lcnJvcl9sb2codGV4dCkKCiAgICBkZWYgbm90aWZpY2F0aW9uKHNlbGYsIHRleHQsIHRpdGxlPU5vbmUsIGFkZF90b19sb2c9RmFsc2UpOgogICAgICAgIG5vdGlmaWNhdGlvbl9pZCA9IHJzX3NldHRpbmdzLmdldCgibm90aWZpY2F0aW9uX2lkIikgKyAxIGlmIHJzX3NldHRpbmdzLmdldCgibm90aWZpY2F0aW9uX2lkIikgZWxzZSAxCiAgICAgICAgaWYgdGl0bGUgaXMgTm9uZToKICAgICAgICAgICAgdGl0bGUgPSBzZWxmLmdldF9jdXJyZW50X3NjcmVlbigpCgogICAgICAgIHNlbGYuaGFzaF9tYXAucHV0KAogICAgICAgICAgICAiYmFzaWNfbm90aWZpY2F0aW9uIiwKICAgICAgICAgICAganNvbi5kdW1wcyhbeydudW1iZXInOiBub3RpZmljYXRpb25faWQsICd0aXRsZSc6IHN0cih0aXRsZSksICdtZXNzYWdlJzogdGV4dH1dKQogICAgICAgICkKCiAgICAgICAgcnNfc2V0dGluZ3MucHV0KCJub3RpZmljYXRpb25faWQiLCBub3RpZmljYXRpb25faWQsIFRydWUpCiAgICAgICAgaWYgYWRkX3RvX2xvZzoKICAgICAgICAgICAgc2VsZi5lcnJvcl9sb2codGV4dCkKCiAgICBkZWYgZGVidWcoc2VsZiwgdGV4dCk6CiAgICAgICAgaWYgc2VsZi5kZWJ1Z19tb2RlOgogICAgICAgICAgICBzZWxmLnRvYXN0KHRleHQsIGFkZF90b19sb2c9VHJ1ZSkKCiAgICBkZWYgcmVmcmVzaF9zY3JlZW4oc2VsZik6CiAgICAgICAgc2VsZi5oYXNoX21hcC5wdXQoJ1JlZnJlc2hTY3JlZW4nLCAnJykKCiAgICBkZWYgcnVuX2V2ZW50KHNlbGYsIG1ldGhvZF9uYW1lKToKICAgICAgICBzZWxmWydSdW5FdmVudCddID0ganNvbi5kdW1wcyhzZWxmLl9nZXRfZXZlbnQobWV0aG9kX25hbWUpKQoKICAgIGRlZiBydW5fZXZlbnRfYXN5bmMoc2VsZiwgbWV0aG9kX25hbWUsIHBvc3RfZXhlY3V0ZV9tZXRob2Q9Tm9uZSk6CiAgICAgICAgcnVuX2V2ZW50ID0gc2VsZi5fZ2V0X2V2ZW50KG1ldGhvZF9uYW1lLCAncnVuYXN5bmMnKQogICAgICAgIGlmIHBvc3RfZXhlY3V0ZV9tZXRob2Q6CiAgICAgICAgICAgIHJ1bl9ldmVudFswXVsncG9zdEV4ZWN1dGUnXSA9IGpzb24uZHVtcHMoc2VsZi5fZ2V0X2V2ZW50KHBvc3RfZXhlY3V0ZV9tZXRob2QpKQogICAgICAgIHNlbGZbJ1J1bkV2ZW50J10gPSBqc29uLmR1bXBzKHJ1bl9ldmVudCkKCiAgICBkZWYgcnVuX2V2ZW50X3Byb2dyZXNzKHNlbGYsIG1ldGhvZF9uYW1lKToKICAgICAgICBzZWxmWydSdW5FdmVudCddID0ganNvbi5kdW1wcyhzZWxmLl9nZXRfZXZlbnQobWV0aG9kX25hbWUsICdydW5wcm9ncmVzcycpKQoKICAgIGRlZiBiZWVwKHNlbGYsIHRvbmU9JycpOgogICAgICAgIHNlbGYuaGFzaF9tYXAucHV0KCdiZWVwJywgc3RyKHRvbmUpKQoKICAgIGRlZiBwbGF5c291bmQoc2VsZiwgZXZlbnQ6IHN0ciwgc291bmRfdmFsOiBzdHIgPSAnJyk6CiAgICAgICAgaWYgbm90IHNvdW5kX3ZhbDoKICAgICAgICAgICAgc291bmQgPSByc19zZXR0aW5ncy5nZXQoZid7ZXZlbnR9X3NpZ25hbCcpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc291bmQgPSBzb3VuZF92YWwKICAgICAgICBzZWxmLmhhc2hfbWFwLnB1dChmJ3BsYXlzb3VuZF97c291bmR9JywgIiIpCgogICAgZGVmIF9nZXRfZXZlbnQoc2VsZiwgbWV0aG9kX25hbWUsIGFjdGlvbj1Ob25lKToKICAgICAgICAiIiIKICAgICAgICA6cGFyYW0gbWV0aG9kX25hbWU6IGhhbmRsZXJzIG5hbWUKICAgICAgICA6cGFyYW0gYWN0aW9uOiBydW58cnVuYXN5bmN8cnVucHJvZ3Jlc3MKCiAgICAgICAgOnJldHVybjogZXZlbnQgZGljdAogICAgICAgICIiIgoKICAgICAgICBldnQgPSBbewogICAgICAgICAgICAnYWN0aW9uJzogYWN0aW9uIGlmIGFjdGlvbiBlbHNlICdydW4nLAogICAgICAgICAgICAndHlwZSc6ICdweXRob24nLAogICAgICAgICAgICAnbWV0aG9kJzogbWV0aG9kX25hbWUsCiAgICAgICAgfV0KCiAgICAgICAgcmV0dXJuIGV2dAoKICAgIGRlZiBlcnJvcl9sb2coc2VsZiwgZXJyX2RhdGEpOgogICAgICAgIHRyeToKICAgICAgICAgICAgZXJyX2RhdGEgPSBqc29uLmR1bXBzKGVycl9kYXRhLCBlbnN1cmVfYXNjaWk9RmFsc2UsIGluZGVudD0yKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgZXJyX2RhdGEgPSBzdHIoZXJyX2RhdGEpCgogICAgICAgIHJzX3NldHRpbmdzLnB1dCgnZXJyb3JfbG9nJywgZXJyX2RhdGEsIFRydWUpCgogICAgZGVmIF9fZ2V0aXRlbV9fKHNlbGYsIGl0ZW0pOgogICAgICAgIHJldHVybiBzZWxmLmdldChpdGVtLCBGYWxzZSkKCiAgICBkZWYgX19zZXRpdGVtX18oc2VsZiwga2V5LCB2YWx1ZSk6CiAgICAgICAgc2VsZi5wdXQoa2V5LCB2YWx1ZSwgRmFsc2UpCgogICAgZGVmIGdldChzZWxmLCBpdGVtLCBmcm9tX2pzb249RmFsc2UpOgogICAgICAgIGlmIGZyb21fanNvbjoKICAgICAgICAgICAgcmV0dXJuIGpzb24ubG9hZHMoc2VsZi5oYXNoX21hcC5nZXQoaXRlbSkpIGlmIHNlbGYuaGFzaF9tYXAuZ2V0KGl0ZW0pIGVsc2UgTm9uZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBzZWxmLmhhc2hfbWFwLmdldChpdGVtKQoKICAgIGRlZiBnZXRfanNvbihzZWxmLCBpdGVtKToKICAgICAgICByZXR1cm4ganNvbi5sb2FkcyhzZWxmLmhhc2hfbWFwLmdldChpdGVtKSkgaWYgc2VsZi5oYXNoX21hcC5nZXQoaXRlbSkgZWxzZSBOb25lCgogICAgZGVmIGdldF9ib29sKHNlbGYsIGl0ZW0pOgogICAgICAgIHZhbHVlID0gc3RyKHNlbGYuaGFzaF9tYXAuZ2V0KGl0ZW0pKS5sb3dlcigpIG5vdCBpbiAoJzAnLCAnZmFsc2UnLCAnbm9uZScpCiAgICAgICAgcmV0dXJuIHZhbHVlCgogICAgZGVmIHB1dChzZWxmLCBrZXksIHZhbHVlOiBVbmlvbltzdHIsIExpc3QsIERpY3QsIGJvb2xdID0gJycsIHRvX2pzb249RmFsc2UpOgogICAgICAgIGlmIHRvX2pzb246CiAgICAgICAgICAgIHNlbGYuaGFzaF9tYXAucHV0KGtleSwganNvbi5kdW1wcyh2YWx1ZSkpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgaWYgaXNpbnN0YW5jZSh2YWx1ZSwgYm9vbCk6CiAgICAgICAgICAgICAgICB2YWx1ZSA9IHN0cih2YWx1ZSkubG93ZXIoKQogICAgICAgICAgICBzZWxmLmhhc2hfbWFwLnB1dChrZXksIHN0cih2YWx1ZSkpCgogICAgZGVmIHB1dF9kYXRhKHNlbGYsIGRhdGE6IGRpY3QpOgogICAgICAgIGZvciBrZXksIHZhbHVlIGluIGRhdGEuaXRlbXMoKToKICAgICAgICAgICAgc2VsZltrZXldID0gdmFsdWUKCiAgICBkZWYgY29udGFpbnNLZXkoc2VsZiwga2V5KToKICAgICAgICByZXR1cm4gc2VsZi5oYXNoX21hcC5jb250YWluc0tleShrZXkpCgogICAgZGVmIHJlbW92ZShzZWxmLCBrZXkpOgogICAgICAgIHNlbGYuaGFzaF9tYXAucmVtb3ZlKGtleSkKCiAgICBkZWYgZGVsZXRlKHNlbGYsIGtleSk6CiAgICAgICAgc2VsZi5oYXNoX21hcC5yZW1vdmUoa2V5KQoKICAgIGRlZiBleHBvcnQoc2VsZikgLT4gbGlzdDoKICAgICAgICByZXR1cm4gc2VsZi5oYXNoX21hcC5leHBvcnQoKQoKICAgIGRlZiB0b19qc29uKHNlbGYpOgogICAgICAgIHJldHVybiBqc29uLmR1bXBzKHNlbGYuZXhwb3J0KCksIGluZGVudD00LCBlbnN1cmVfYXNjaWk9RmFsc2UpLmVuY29kZSgndXRmOCcpLmRlY29kZSgpCgogICAgZGVmIGFkZF90b19jdl9saXN0KAogICAgICAgICAgICBzZWxmLAogICAgICAgICAgICBlbGVtZW50OiBVbmlvbltzdHIsIGRpY3RdLAogICAgICAgICAgICBjdl9saXN0OiBMaXRlcmFsWydncmVlbl9saXN0JywgJ3llbGxvd19saXN0JywgJ3JlZF9saXN0JywgJ2dyYXlfbGlzdCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2JsdWVfbGlzdCcsICdoaWRkZW5fbGlzdCcsICdvYmplY3RfaW5mb19saXN0JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RvcF9saXN0ZW5lcl9saXN0JywgJ29iamVjdF9jYXB0aW9uX2xpc3QnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvYmplY3RfZGV0ZWN0b3JfbW9kZSddLAogICAgICAgICAgICBfZGljdDogYm9vbCA9IEZhbHNlCiAgICApIC0+IE5vbmU6CiAgICAgICAgIiIiINCU0L7QsdCw0LLQu9GP0LXRgiDQsiBjdi3RgdC/0LjRgdC+0Log0Y3Qu9C10LzQtdC90YIsINC40LvQuCDRgdC+0LfQtNCw0LXRgiDQvdC+0LLRi9C5INGB0L/QuNGB0L7QuiDRgSDRjdGC0LjQvCDRjdC70LXQvNC10L3RgtC+0LwuCiAgICAgICAgICAgIG9iamVjdF9pbmZvX2xpc3QgLSDQmNC90YTQvtGA0LzQsNGG0LjRjyDQvtCxINC+0LHRitC10LrRgtC1ICjRgdC90LjQt9GDKS4gW3snb2JqZWN0Jzogb2JqZWN0X2lkOiBzdHIsICdpbmZvJzogdmFsdWV9XQogICAgICAgICAgICBvYmplY3RfZGV0ZWN0b3JfbW9kZSAtINCg0LXQttC40Lwg0LTQtdGC0LXQutGC0L7RgNCwLiBbeydvYmplY3RfaWQnOiBvYmplY3RfaWQ6IGludCwgJ21vZGUnOiBiYXJjb2RlfG9jcnxzdG9wfV0KICAgICAgICAgICAgb2JqZWN0X2NhcHRpb25fbGlzdCAtINCY0L3RhNC+0YDQvNCw0YbQuNGPINC+0LEg0L7QsdGK0LXQutGC0LUgKNGB0LLQtdGA0YXRgykuIFt7J29iamVjdCc6IG9iamVjdF9pZDogc3RyLCAnY2FwdGlvbic6IHZhbHVlfV0KICAgICAgICAgICAgc3RvcF9saXN0ZW5lcl9saXN0IC0g0JHQu9C+0LrQuNGA0YPQtdGCINCy0YvQv9C+0LvQvdC40LUg0L7QsdGA0LDQsdC+0YLRh9C40LrQvtCyINC00LvRjyDQvtCx0YrQtdC60YLQvtCyINCyINGB0L/QuNGB0LrQtQogICAgICAgICIiIgoKICAgICAgICBpZiBfZGljdDoKICAgICAgICAgICAgbHN0ID0gc2VsZi5nZXQoY3ZfbGlzdCwgZnJvbV9qc29uPVRydWUpIG9yIFtdCiAgICAgICAgICAgIGlmIGVsZW1lbnQgbm90IGluIGxzdDoKICAgICAgICAgICAgICAgIGxzdC5hcHBlbmQoZWxlbWVudCkKICAgICAgICAgICAgICAgIHNlbGYucHV0KGN2X2xpc3QsIGpzb24uZHVtcHMobHN0LCBlbnN1cmVfYXNjaWk9RmFsc2UpKQoKICAgICAgICBlbHNlOgogICAgICAgICAgICBsc3QgPSBzZWxmLmdldChjdl9saXN0KQogICAgICAgICAgICBsc3QgPSBsc3Quc3BsaXQoJzsnKSBpZiBsc3QgZWxzZSBbXQogICAgICAgICAgICBpZiBlbGVtZW50IG5vdCBpbiBsc3Q6CiAgICAgICAgICAgICAgICBsc3QuYXBwZW5kKGVsZW1lbnQpCiAgICAgICAgICAgICAgICBzZWxmLnB1dChjdl9saXN0LCAnOycuam9pbihsc3QpKQoKICAgIGRlZiByZW1vdmVfZnJvbV9jdl9saXN0KAogICAgICAgIHNlbGYsCiAgICAgICAgZWxlbWVudDogVW5pb25bc3RyLCBkaWN0XSwKICAgICAgICBjdl9saXN0OiBMaXRlcmFsWydncmVlbl9saXN0JywgJ3llbGxvd19saXN0JywgJ3JlZF9saXN0JywgJ2dyYXlfbGlzdCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAnYmx1ZV9saXN0JywgJ2hpZGRlbl9saXN0JywgJ29iamVjdF9pbmZvX2xpc3QnLAogICAgICAgICAgICAgICAgICAgICAgICAgJ3N0b3BfbGlzdGVuZXJfbGlzdCcsICdvYmplY3RfY2FwdGlvbl9saXN0JywKICAgICAgICAgICAgICAgICAgICAgICAgICdvYmplY3RfZGV0ZWN0b3JfbW9kZSddLAogICAgICAgIF9kaWN0OiBib29sID0gRmFsc2UKICAgICk6CiAgICAgICAgIiIi0KPQtNCw0LvRj9C10YIg0LjQtyBjdi3RgdC/0LjRgdC60LAiIiIKICAgICAgICBpZiBfZGljdDoKICAgICAgICAgICAgbHN0ID0gc2VsZi5nZXQoY3ZfbGlzdCwgZnJvbV9qc29uPVRydWUpIG9yIFtdCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGxzdC5yZW1vdmUoZWxlbWVudCkKICAgICAgICAgICAgICAgIHNlbGYucHV0KGN2X2xpc3QsIGpzb24uZHVtcHMobHN0LCBlbnN1cmVfYXNjaWk9RmFsc2UpKQogICAgICAgICAgICBleGNlcHQgVmFsdWVFcnJvcjoKICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICBlbHNlOgogICAgICAgICAgICBsc3QgPSBzZWxmLmdldChjdl9saXN0KQogICAgICAgICAgICBsc3QgPSBsc3Quc3BsaXQoJzsnKSBpZiBsc3QgZWxzZSBbXQogICAgICAgICAgICBpZiBlbGVtZW50IGluIGxzdDoKICAgICAgICAgICAgICAgIGxzdC5yZW1vdmUoZWxlbWVudCkKICAgICAgICAgICAgICAgIHNlbGYucHV0KGN2X2xpc3QsICc7Jy5qb2luKGxzdCkpCgogICAgZGVmIHNob3dfc2NyZWVuKHNlbGYsIG5hbWUsIGRhdGE9Tm9uZSk6CiAgICAgICAgc2VsZi5wdXQoJ1Nob3dTY3JlZW4nLCBuYW1lKQogICAgICAgIGlmIGRhdGE6CiAgICAgICAgICAgIHNlbGYucHV0X2RhdGEoZGF0YSkKCiAgICBkZWYgc2hvd19kaWFsb2coc2VsZiwgbGlzdGVuZXIsIHRpdGxlPScnLCBidXR0b25zPU5vbmUpOgogICAgICAgIHNlbGYucHV0KCJTaG93RGlhbG9nIiwgbGlzdGVuZXIpCgogICAgICAgIGlmIHRpdGxlIG9yIGJ1dHRvbnM6CiAgICAgICAgICAgIGRpYWxvZ19zdHlsZSA9IHsKICAgICAgICAgICAgICAgICd0aXRsZSc6IHRpdGxlIG9yIGxpc3RlbmVyLAogICAgICAgICAgICAgICAgJ3llcyc6ICfQntC6JywKICAgICAgICAgICAgICAgICdubyc6ICfQntGC0LzQtdC90LAnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgYnV0dG9ucyBhbmQgbGVuKGJ1dHRvbnMpID4gMToKICAgICAgICAgICAgICAgIGRpYWxvZ19zdHlsZVsneWVzJ10gPSBidXR0b25zWzBdCiAgICAgICAgICAgICAgICBkaWFsb2dfc3R5bGVbJ25vJ10gPSBidXR0b25zWzFdCgogICAgICAgICAgICBzZWxmLnB1dCgnU2hvd0RpYWxvZ1N0eWxlJywgZGlhbG9nX3N0eWxlKQoKICAgIGRlZiBnZXRfY3VycmVudF9zY3JlZW4oc2VsZik6CgogICAgICAgIHJldHVybiBzZWxmWydjdXJyZW50X3NjcmVlbl9uYW1lJ10gaWYgc2VsZi5jb250YWluc0tleSgnY3VycmVudF9zY3JlZW5fbmFtZScpIGVsc2UgJycKCiAgICBkZWYgZ2V0X2N1cnJlbnRfcHJvY2VzcyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZlsnY3VycmVudF9wcm9jZXNzX25hbWUnXQoKICAgIGRlZiBzZXRfdGl0bGUoc2VsZiwgdGl0bGUpOgogICAgICAgIHNlbGZbJ1NldFRpdGxlJ10gPSB0aXRsZQoKICAgIGRlZiBydW5fcHlfdGhyZWFkX3Byb2dyZXNzKHNlbGYsIGhhbmRsZXJzX25hbWU6IHN0cik6CiAgICAgICAgIiIiCiAgICAgICAg0JfQsNC/0YPRgdC60LDQtdGCINCw0YHQuNC90YXRgNC+0L3QvdC+0LUg0YTQvtC90L7QstC+0LUg0LLRi9C/0L7Qu9C90LXQvdC40LUg0YHQutGA0LjQv9GC0LAgYyDQsdC70L7QutC40YDRg9GO0YnQuNC8INC/0YDQvtCz0YDQtdGB0YEt0LHQsNGA0L7QvCwg0LrQvtGC0L7RgNGL0Lkg0LHQu9C+0LrQuNGA0YPQtdGCIFVJLdC/0L7RgtC+0LouCiAgICAgICAg0JIg0LrQsNGH0LXRgdGC0LLQtSDQsNGA0LPRg9C80LXQvdGC0LAgLSDQuNC80Y8g0YTRg9C90LrRhtC40Lgt0YXQtdC90LTQu9C10YDQsC4KICAgICAgICAiIiIKCiAgICAgICAgc2VsZlsnUnVuUHlUaHJlYWRQcm9ncmVzc0RlZiddID0gaGFuZGxlcnNfbmFtZQoKICAgIGRlZiBzcWxfZXhlYyhzZWxmLCBxdWVyeSwgcGFyYW1zPScnKToKICAgICAgICBzZWxmLl9wdXRfc3FsKCdTUUxFeGVjJywgcXVlcnksIHBhcmFtcykKCiAgICBkZWYgc3FsX2V4ZWNfbWFueShzZWxmLCBxdWVyeSwgcGFyYW1zPU5vbmUpOgogICAgICAgIHBhcmFtcyA9IHBhcmFtcyBvciBbXQogICAgICAgIHNlbGYuX3B1dF9zcWwoJ1NRTEV4ZWNNYW55JywgcXVlcnksIHBhcmFtcykKCiAgICBkZWYgc3FsX3F1ZXJ5KHNlbGYsIHF1ZXJ5LCBwYXJhbXM9JycpOgogICAgICAgIHNlbGYuX3B1dF9zcWwoJ1NRTFF1ZXJ5JywgcXVlcnksIHBhcmFtcykKCiAgICBkZWYgX3B1dF9zcWwoc2VsZiwgc3FsX3R5cGUsIHF1ZXJ5LCBwYXJhbXMpOgogICAgICAgIHNlbGYucHV0KAogICAgICAgICAgICBzcWxfdHlwZSwKICAgICAgICAgICAgeyJxdWVyeSI6IHF1ZXJ5LCAncGFyYW1zJzogcGFyYW1zfSwKICAgICAgICAgICAgdG9fanNvbj1UcnVlCiAgICAgICAgKQ=="
            }
        ],
        "StyleTemplates": [],
        "arch2": true,
        "CommonHandlers": []
    }
}